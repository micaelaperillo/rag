okay we're live good afternoon cs19 how are you guys doing today oh fantastic that is what I like to hear we have another Wonderful class for you we're going to be learning about independence oh my God I feel like in the beginning of Cs 109 we just hit like great core topic after great core topic every thing we've been talking about these first few weeks they're so Central to just probalistic understanding of our world that we'll show you about the world works but also fundamental to building algorithms that can make decisions under uncertainty what a good time to be studying probability as I mentioned we've talked about a whole bunch of important stuff so as you guys see it I just wanted to review a little bit some of the important stuff we've talked about last class we introduced this idea of conditional probability H and I know at this point in CS 109 A lot of people will find it confusing to think about the difference of conditional probability and the probability of end so in this world A and B are two different events and you can ask two different questions about them you can ask what's the probability that both those events happened that's what we mean by and and this is a totally different question this is what's the chance that a happens given that B has already occurred now to be clear if a happens it is the case that both have happened but the reason this question is different is we're not guessing if B has happened we're being told B has in fact happened you entering the world where B takes place conditional probabilities are very exciting but they are a little bit hard the very first time you learn about them now that really does introduce three major questions we've thought about in CS 109 we have probability of the end of two events probability the or of two events um or this conditional probability I don't want anyone to get lost in notation we borrow a lot from set notation and as such set notation has many ways of writing the exact same thing if at any point you're like what does a comma mean just raise your hand please other people will be confused a comma means actually and it is set notation shortcut for an for and sometimes people don't even put the common they just put two events next to each other and somehow you're supposed to mean no that this means and crazy set people U and similarly for or there's a few different pieces of notation when we learned about conditional probability we learned the definition of conditional probability which says here's how you calculate the probability of an event happening given another event has already occurred is the probability both of them Happening divid by the probability of the thing you're conditioning on if you took that equation and rearranged it you would get the chain rule which says hey are you interested in calculating the probability that two events happen well that's equal to the probability that one event happens multiplied by the probability that the other event happened given that you just told me what event F has already occurred that would been so much to have done in two weeks but we took it a little bit further we also learned the law of total probability and the law of total probability says well if I want to calculate the probability of event happening I can think about the case where some background event F occurs and I can think about a different case where the background event F doesn't occur and that gives me a formula for going from conditional probabilities to just probabilities without conditions and then finally we learn about base theorem and if there's a single major key something you 10 out of 10 100% have to know in CS 109 is B theorem is such a powerful useful tool a little bit unintuitive but that's why it shows up in so many interesting algorithms and base theorem allows you to go between calculating conditional probability in one direction to calculating in the other direction so if you know e given F but you don't know F given e Baye theorem is your friend that is how you're going to calculate it now you guys should certainly write down all these rules and you should have them in your back uh envelope you don't have to have memorized them for cs19 our midterm for example is open book what you really need to know how to do is how to use these in the real world and be able solve problems that we give you in cs19 and recognize instances of these different rules and I promise we would do a little bit of review by gambling let's do it do you guys want to play a game it's actually a game called poker and one of the amazing things about poker you imagine something that computers would be great out because computers can calculate perfect probabilities but for the longest time computers were not good at poker you know why poker is a psychological game you watch the other person you be like you're lying or like you're definitely about to win and you just showed it to me there's this concept in poker that's very important called it tell have you ever seen somebody look at cards and you notice in their face that they just got a little excited some people their face lights up some people do more subtle things like there's there's people who have patterns where they always ACD touch their money when they get excited tells aren't perfect information but they're information that you need to use if you want to play this game of poker well so I'm going to imagine you're playing against an opponent and they may give a tell they're much more likely to give a tell that when they have a winning hand so if they look at their cards and there's a winning hand there's a 50% chance that you'll see that excitement in their eyes it might be the case that they have a winning hand and you don't see the excitement in their eyes totally possible but they're just more likely to show this tell if they've got a winning hand if they don't have a winning hand there's also a chance that you'll misread something as excitement so there's a chance that you'll see the tell even if they just pulled two cards that are losing if we want to make a good decision if you guys want to win this game you're going have to reason about uncertainty through this complicated idea of AEL before I jump into the game any questions about what AEL is we've got a real game I've got a program we're gonna play a game here real money is going to be on the line now this game is based off a real poker game I don't care if you know the rules of Poker I care that you guys know probability and here's how the game's going to be played your opponent is going to have two cards now this isn't the real game this is just a demo these are your cards don't show them to me do you have two okay fantastic I'm going to you know during the course of the game I'm going to see about let's say seven cards in this EX example is that right 1 2 3 4 5 6 yeah I see seven cards and that g me some information my version of this game is very simple if you have an ace you win I can change my belief about whether or not you have an ace based off the cards that I've seen and I see your tell you had a stone cold Poker Face you gave no tell that's what this means there's not an excited tell and then you guys get to choose to play if you don't play you walk away no questions asked if you do play if you win $10 if I win $10 for me there's extra card okay I'm not cheating I promise I'm just you know trying to put all the winning cards on the ground we're not going to play with those cards because I could have rigged it instead we're going to pay the Run game I'm going to run it you guys ready same game your opponent has two unseen cards actually what cards do you have by the way ninees and 10 Hearts you didn't win so that would be an example of the opponent not winning but that's not the game that's not the game we're going to play on the computer that was just a demo that's just a demo but they're really fun cards right okay but this is a live game and we have to calculate the probility we have to make a good decision under uncertainty using all the tools that we've got so same game the opponent has two cards I'm not going to show them to you instead you have to decide if you want to bet whether or not one of those cards is an ace one of those cards is an ace we lose opponent wins bad times you get some information in this game you see all of these cards notice how none of them are Aces every card that's not an ace makes it more likely that there's an ace in your opponent's hand but your OPP does not give you that excited tell and just to recap the probability of a tell given that your opponent has an ace is 50% this excited tell is a lot less likely if your opponent doesn't have an ace importantly notice how I use symbols T is for tell and a is for Ace which is the same as winning well that means your opponent won okay hey I'm going to have somebody play this game but well actually can I get a volunteer okay since you're in the front come on up you get to volunteer but we're going to do this together you're going to need a marker we're going to try and figure out what we need to know in order to gamble right now you might just be a gambling type and you're like already know you're like I don't care I don't care about the probability I just want to play but we want to optimize your chance of making a good decision does that sound good y so let try and figure out what's the problem we're solving here oh by the way what's your name Alan this is a class class this is everybody say hi okay first of all let's say I have these two events what will determine whether or not you want to play the probability that they don't have an ace yeah so if the probability that they don't have an ace if that is greater than 0.5 should you play yes okay we know what to do then you just need to tell me what's the probability that they don't have an ace by the way what's this is very related to the probability that they do have an ace right just going to be one minus okay we need to know the probability that they have an ace now this is an important thing you have seen a tell okay so it's a little bit more interesting notationally than this it's you know the probability they don't have a given that you didn't see a tell right we observe no tell so the probability they don't have an ace given that you observe no tell if that's greater than 0.5 we play right okay should we do this together okay okay how do you want to approach this I'll be your scribe so we want to know the probability that they don't have an ace given that they don't have a tell right how do we approach this what are our options so if we use B theorem right good want to get the opposite of this so probility that they don't have a tell that they don't have an ace okay since we know that oh give me a second okay you think about a little bit while I write the rest of B theorem sorry I'm not as fast as writing as you are thinking okay this is still in the denominator I'm just you know bored right we're cool okay in B theorem you kind of condition off of one event and then you condition off the complement of that so here there's this other thing which is just the probability that they do have an Ace and the probably of no till given that they do have an ace do we have any of these numbers it feels like no but kind of it's yes yes oh we do okay fantastic which ones do we have so I mean uh we have the probability that they don't have the tell given that they don't have the ace what is that that's one minus the probability that they have the tell given that they don't have that's so good you guys hear what he said said the probably they don't have a tell given that they have an a it's just going to be one minus that so probability of the this one we don't have this one we have the probity of tell given Ace but you're saying the probability of no tell given Ace is just going to be one minus fantastic that is just a 0.5 okay um do we have this yes by the same logic okay and it is9 oh this is fantastic this is going so well 0.9 except for my handwriting still bad and up here this is 0.9 is this problem under specified I never told you the probability of a you're like isn't that the thing we care about what's the difference between probability of a and and or let's say the probably of a compliment and the probably of a compliment given tell well with the compliment you don't have any information about the tell exactly no information about the tell we just have to think what's the chance that the opponent doesn't have an ace as it is how can we do that is there like a base theorem for that no we just have to count ah yeah great I'll just pull out my deck of cards and start counting them or we could do equal likely outcome spaces okay so what are all the ways that you're opponent could get two cards well that's 52 choose two almost there's seven I've already shown you choose there's 45 choose two does that make sense there's seven that we're not including because we know it's not one of those seven you can't choose one of those seven and what are all the ways that they don't have an ace uh it's going to be 41o how' you get 41 just magical numbers you just pull do you know the answer to this already did you prep why 41 so that's just all the cards that are in an A in the deck so there's 45 cards and 41 of them are not Aces so these are all the ways you can pull two cards and these are all the ways you can pull two cards where none of them are Aces okay we can calculate this number we can plug it in for that we're just missing this which is going to be one you want to just do it should we just calculate this I think we should just calculate this okay uh python import math math. combination 41 choose two d by math. combination of 45 choose two 83% chance hey there's an 83% chance that that opponent is not is going to lose would you want to play this game well now we need to Valu with the tell yeah we have to bring the tell because they didn't have a tell so maybe they actually do uh you know maybe that gives us some information that we need to incorporate okay so you can put 83% in here oh my God should we just do this whole thing 09 okay I'm going to call this a variable I'm going to call this uh a that's this probability a complement okay so 0.9 time PAC divided by 0.9 * Pac plus 0.5 you're checking my math you should check my math Pac so one minus Pac is just that okay this is the probability and now we have to interpret this this is a probability that they will a even that they don't J the T okay you got a 90% chance of winning or losing you winning do you want to play sure 10 bucks you could just walk away you win Everybody Run Applause okay fantastic buy your friends at J oh you guys think I wouldn't pay up I actually yeah oh my mark yeah I don't keep the 10 bucks but give me my marker it's a beauty of probability like we don't have to just guess we can think about this thing rationally a lot of probability was invented by terribly addicted gamblers we are not terribly addicted gamblers but we can use the same mathematics that they invented to make more interesting decisions under uncertainty okay 10 out of 10 most important thing in CS 109 that we've learned so far is BAS you really really want to feel solid about this this was a hard Bas theorem one because you had to combine probabilities with equally likelihoods and Bas theorem and you have to think about a lot of conceptual ideas okay did you guys feel good with Bas theorem you're going to need a lot of practice but do you at least appreciate that this is something that you will identify as worth practicing yes awesome that's what I wanted okay so that was just you know the review for today a couple announcements before we jump into new content our sections in CS 109 they start today some people have sections on Wednesday most people have sections on Thursdays and a few people have sections on Friday before class uh go to your section it's an incredible part of Cs 109 you will go through live problems now there's two things to think about for a section one it's a great chance for you to get more practice you know I'm here in a lecture and you don't get to work on the problems in the depth that you really need before you go into your problem sets but the other part is we're a community and you're going to join a small group and one of the things you do in section is give back to that community help each other out we're all a team if every single person in this room walks out knowing cs19 we will all feel successful and you know your grades are not based on what other people in this class do so let's help each other out let's make a wonderful Learning Community where everybody can make it and section go there and learn and go there and give back to others speaking about giving back to others this is a super like not important thing but there's this new learn with others button on the problem set app so if you go over here wow 97 people learn with others if you click it you can get match with somebody it's not a obligatory part of cs19 but boy would I appreciate if you guys could stress test my server and also help each other learn so if you guys are up for it at 9:00 tonight would you guys mind just like going there and hitting the button you could spend five minutes just talking to another person in class be like hi I'm Chris woohoo probability or if you did have a question about the the problem set you guys could talk about it too um so let's try this Peet party if you're up for it totally optional the word of the day is kind cat uh and you can write that uh in the same way that we always do okay are we done now that we've learned Bas theorem like no there is so much more to learn and to really motivate this next great toic I wanted to show you guys a a cool program we all know about DNA so I'm going to give you a context of DNA that I think is quite interesting you're going to be looking at a 100,000 examples of bats and for these bats you're going to get six pieces of information the first five pieces of information are particular genes that the bat will have or not have so every row here is a bat and this is saying they don't have this gene they don't have this gene they don't have this gene they do have this gene they don't have this Gene and then finally you have a trait something that we care about you one of the things that people study in bats are whether or not they're able to carry Ebola and maybe you're curious which of these genes is telling the story of whether or not they can carry aola wouldn't it be so cool if we could just go from data like this to having an understanding of where that causality is coming from now of course we all know from data you can't get perfect causality but maybe we could start to form a hypothesis about which genes are causing which other traits does that sound interesting okay let's run this program find structure okay make this bigger python fine structure so I wrote a little program it's going to look at all that data and after looking at all that data it asked me if I'd like to receive keystrokes from my applications uh whatever I wrote this Python program and it outputs a hypothesis and the hypothesis it gives me is that I think Gene file causes Gene 2 and I think the presence of Gene one and Gene 2 is what's controlling whether or not this trait is expressed how cool would it be if we could write programs like that now I did a whole bunch of calculations to get there and you see this word show up over and over again independent and that is the next great uh topic that's in our cair is the thing we're going to be learning about today so stay tuned learn about independence so you can do really cool things like WR this program okay well we've gotten ahead of ourselves we have to start at the beginning of our story uh so let's start about the beginning of our story we have goals for today the goals for today is to learn about properties of events that make life easy the main property we're going to focus on is independence and Independence is going to make it easy to do probability of end we're also going to be learning about Mutual exclusivity which is something we've seen before we're going to revisit and as you recall that makes it easy to do probability of or if you walk out today feeling comfortable these two things you've hit the learning goals let's start with the review of probability of or we've already talked about the probability of or if you have two events and you want to calculate the probability of either one or the other happening there's one context that makes it very easy the context that makes this very easy is if there's no outcome in both events it's not possible for both events to occur at exactly the same time you can just add the probability mass of one event with the probability mass of another this is one of the axm of probability so it's one of the things that's given without proof it's one of the foundational assumptions of probability uh but it also makes a lot of sense you know there's no outcome that's shared between them then you can imagine feeling how many outcomes are in E getting that probability and then adding the probability of alcom and f that feels like a very intuitive reasonable thing to do if you want the probability of either of them happening this property of mutual exclusivity therefore is something really interesting for you to look out for if I give you two events I'd like you guys to get to the point where you can look at those events and decide are they mutually exclusive sometimes a problem will tell you these two events are mutually exclusive but a lot of times you might have to just like look at the events and reason is it possible for both of them to occur at the same time if that answer is yes they're not mutually exclusive what about the case where they're not mutually exclusive and while you guys think about that there was a question just based on your uh beginning definitions can we see so something that is independent can also not be mutually well get independent in just a second so let me let me that's such a good question you're like wondering what's the difference between Independence and mutual I will tell you that but I'm just let's get our heads around Mutual exclusivity before we go into Independence good question hold on to it here's what the opposite of mutual exclusivity looks like so this is when it's possible for their for both events to occur at the same time there are outcomes that are in both events so both events can happen at the same time what's probability of or like in that case it's very similar to Counting of or uh when you have non-mutual exclusive sets you take the probability of one event add the probability of the other event but it's like you've double counted all this probability mass that of all the outcomes that count as both event e and event F and so you got to subtract off that double counting does that sound familiar from sets nod your head if that sounds pretty good okay we're in a great situation now if you want to do probably of or think about Mutual exclusivity if it's mutual ex mutually exclusive just add and if it's not you just use a slightly more complicated formula feels good I'm going to bump it up in a tiny tiny little Notch uh but then you're done with probability 4 you guys ready for more than two sets what if you care about the probability of e or F or G so like you know maybe e is that they have a tell and F is that they have an Ace and then G is like they went to the bathroom or something like that and you want know the probability of either one of those things happening how could you calculate this using the underlying concepts of e and f and g okay we can start by thinking about the probability of e I've got this neat little ven diagram where I'm thinking about all the events in F all the events in E and all the events in G I'm allowing for some events that are in both E and F some events that are in both e and G and some events that are in all three I put a one in each of these subsections say if I've used the probability of e in my formula each of these probability spaces has been counted exactly once which is what we want this would be the full answer if we had a one in every single one of these quadrants but we don't because we haven't really thought about F or G should we add those in too let's add in the probability of f if you add in the probability of f things are pretty good except we've double counted the things that are both in E and F and we've double counted the things well this is all the things are in both andf following along so far so this is not the formula because it doesn't count every outcome exactly once we've double counted some things and we haven't counted this at all well let's count this by adding probability of G and if you add in the probability of G um then we have uh this is counted once but this is counted twice uh and why am I hm I'm missing a step here okay um okay well this is counted once this is counted twice this is counted twice and actually this should be counted three times when I subtract andf this goes down to a one and this goes from a three to a two so I could I subtracted off the space here and it got me a little bit closer you know I could do is I could subtract off one of these spaces and if I subtract off one of these spaces then all these numbers in this space go down by one this is getting us closer and then finally I've got this final thing which is counted too many times instead of doing the reasonal thing and just subtracting off this single quadrant I'm going to continue on my crazy pattern of subtracting off every pair and I'll subtract off every pair so I have a formula where I added every event on its own I subtracted off every pair of events and if you look at all the spaces and how many times they're counted we're really really really close we've counted everything once but how come we counted this thing zero times I thought we counted it three times well we counted it one two three times but then we subtracted it here we subtracted it here and we subtracted it here it got added three times subtracted three times it's like we haven't even counted it once so if you wanted three events and you wanted the probability of or if they weren't mutually exclusive you'd have to use this whole honken formula and the final thing is to add in the sets of three do you guys Noti something cute there's like all sets of one minus all pairs of sets plus the triplet of sets it's a little bit cute there's some symmetry there what a formula who here wants to use a formula that long nobody like one person is like yeah a little bit I like long formulas um but you know just the point here Mutual exclusivity becomes important if you have more than two events because this formula does get a little bit long I hope you never have to go here but just so you know how deep this Rabbit Hole goes we should talk about n events you know how here we like alternated between like singles and doubles and triples like we added all the singles subtract all the doubles then added the triples you kind of take that pattern up to n you add all the singles you subtract all the doubles you add all the triples then if you go to four you subtract all the quadruples if you go to Five you add all the all the sets of size five of the events in sanity anyways there's this more General inclusion exclusion I hope you never have to use it but you should know that it exists if if you ever feel like going there and in fact the biggest learning goal for you should be I hope to do whatever I can mathematically to avoid doing the probability of or of more than three sets if they're not mutual exclusive because this just becomes a really really really crazy formula okay this little cuteness here is just saying you're flipping negatives and additions you can get into the formula if you ever want to but as I said the learning goal is do everything you can to avoid using this formula okay so we have everything you need to do probability of or if they're mutually exclusive life is easy just add and if it's not mutually exclusive you just use this inclusion exclusion yes question I have a question the V diagram why we want all be one why don't we just want the outer peripheries of e f and g one uh you know this outer periphery means all the events that only happen in F and you do need to count all the things that happen in both F and E all these outcomes that are in F and E they should be counted and they're not counted here because these are the ones that are F but are not e it's we let's talk about the ven diagram afterwards um because the derivation is less important than the rule but I'd like to make sure that people feel intuitive about the derivation okay good question okay so what do we do now is it would be great if probability was only about or but there's a lot of times when you need the probability of and and so it's time to learn about probability of and and you know how there's this probability Mutual exclusion that made life easy for or there's this property called Independence which is going to make life easy for and if you can identify that two events are independent or if you're told it if you want probability of and you just multiply if you're told they're independent probably if or doesn't get any easier it's only probably if and that gets easier and and just becomes multiplication if two events are not independent you have to revert back to the chain rule which we've already talked about okay let's do probability van let's learn about it and Independence is the key uh feature that we're going to think about for two events when we're talking about probility V the definition of Independence is going to be intuitive but at the end of the day it's mathematical just like Mutual exclus meant that there's no outcome in in both elements or in both uh events the pro Independence is defined as the probability of a is exactly equal to the probability of a given B There is semantics to that let's think about what that means what's your chance of a happening given no information that's the same as your chance of a happening given the information that B has occurred that's a long way of saying B told you nothing when I told you B happened your chance of a occurring didn't go up or down B had no influence on your belief so it's like an independent belief B occurring is independent of a occurring so if the intuition makes sense for you great otherwise this is a mathematical definition you can use if this equation does not hold then they're dependent now if we start with the chain rule the chain rule says the probability of a and b equals probity of a * the probably of B given a if we use this new definition of independence which says that if probably B is if B is of a then this condition is the same as probability of B this term becomes just probability of B right that's what we defined and now we're left with this really important result about independence if a and b are independent that means these two terms are the same and as such the probability of and is the multiple of the probabilities on their own that's why it matters so much because it's going to make your computations much easier if somebody tells you things are independent it makes computations is way way way way way easier you don't have to do any of this complicated conditional probability if they're not independent you do have to think about B given a Independence is so powerful in lots of advanced CS classes you'll see people making Independence assumptions where they don't belong we will assume things that are not independent are independent just because it makes math so much more doable but anyways this is what Independence means there now are two ways of understanding Independence you could either understand that these two terms are the same or you could understand Independence as if a and b are independent then probably of a * probabbly of B should be the probability of A and B okay major key I like these major Keys it's just like from lecture what's the most important thing to know and one of the most important things to know is if you can find this property of Independence in events probability of and's going to become easy this is a proof I include you don't need to memorize but the proof tells you that if I tell you a is independent of B then it also must mean that b is independent of a that might just make sense to you guys um but you could prove it by using Baye theorem so here's just Bas theorem for B given a because a is independent of B this term just becomes probability of a which is going to cancel with the denominator and you're left with the probability of B given a equals probability of B so if I assume that term which is that a is independent of B I can prove that b is independent of a just so you know okay let's try this using dice so I'm going to think about two different dice dice one and dice two let e be the event that the first dice is a one and let F be the event that the other dice is a one can we show that they're independent here's what that would look like I would calculate the probability of e on its own what's the probability that this dice is a one six what's the probity that this dice is a one six what's the probability that E and F occur together there's only one outcome where both e is true and F is true and that's the outcome where one was one and the other one was one there's 36 different outcomes of the two dice and only one of them simultaneously satisfy E and F it's certainly possible for E to be true and for f to be false uh but if both E and F are false that means you know the value of the two dice and there's just that one out of 36 outc comes 16 * 16 is exactly 1 over 36 this isn't always the case it's only the case if your two events are independent and these two events are independent let's think about this conceptually if I tell you this first dice is a one does it change your belief in the outcome of this dice no there's no complicated quantum entanglement between these dice this dice gives you no information as to what outcome will come from this dice so being told the outcome of one dice doesn't change your belief in the outcome of the other other that's the conceptual way of understanding but really if somebody asks you to show Independence you should mathematically prove it what we have on the board okay let's try another one I have a new event G and G is the event that the sum of the two dice is five out of my 36 different outcomes here are all the outcomes that satisfy G A 1 and four 2 and three 3 and two and a four and one the probability of G is going to be equal to 4 over 36 there's four outcomes that satisfy G out of your 36 possible outcom comes now if I want to show if e is independent of G so recall that e is that the first dice is a one the probability that the first dice is a one is a 1 over six and the probability of e and G well that's an interesting one well here's all the outcomes that satisfy G out of these outcomes which ones also satisfy e are there any there's this one this one satisfies that the first dice is a one and the second dice is a four so it's both the case that the two dice add up to five and it's the case that the first dice is a one so there's one out of 36 outcomes where both e and G are true I've calculated each of these on their own if you multiply 16 * 4 over 36 it turns out you do not get 1 over 36 this is an example of dependent events now this is interesting if they're depend another way of saying the mathematical thing that we proved is that by telling you that the first dice is a one I change your belief that the two dice will add up to five that kind of makes sense I told you the first dice was one if I told you the first dice was a six does that change your belief that the two dice add up to five yeah cuz it's not going to add up to five if your first dice is a six so telling you that the first dice is one kind of means like few I avoided the case if you rolling a six on the first dice I've still got a chance of the two dice adding up to five when one event changes the belief in another event that's dependence and you would prove it using this sort of mathematical derivation yeah questions would it be correct to say that whether G happens depends on whether G happens yeah there there's I want to add a little bit to that so the the question was is it correct to say that whether G happens depends on whether e happens yes to be more General though I'd say e happening changes my belief in whether or not g will happen cuz we're in this beautiful world of probability things are generally not deterministic uh and it's when something happens like you roll a one it doesn't tell you whether what what D or whether or not the sum will be five it just changes your probability that the sum will be five so exactly the averse event happening changes your probability in the other event happening question in the back yeah we're talking about um epistemic probability basically a couple of days ago right I think a couple of lects ago can you explain how basium kind of fits into that they using the word beliefs so often yeah I will always I think of probabilities as representing beliefs uh I always think about it as not just representing stochasticity in the world but my own uncertainty I feel like this example from the med of class really captures that this probability of the other person having no Aces we can know that EXA exactly cuz counting tells us exactly how to calculate it but as soon as I got into this world of I have to infer this complicate idea of a I really do enter this world where I'm not exactly sure how the world works and I use probabilities to represent my own uncertainty and you know base theorem all these laws of probability allow us to combine those two things these softer beliefs with some hard mathematical calculations and you can bring it together into probabilities as such you'll almost always hear me use belief as a synonym for probability such a good philosophical question okay I do want to give you guys a chance to talk to the person next to you see if you can talk to person next to you and Define what Independence is and see if you can come up with a clarifying question because this is an important part of lecture is there anything confusing about this see if you can sus it out talk to the person next to you okay that was just a short chat any questions come up I once had somebody asked me this really wild question I love questions questions are you engaging with the unknown it's like the most beautiful beautiful way of articulating learning I just love love love a good question and once while I was teaching 109 somebody asked me this question that I just thought was very especially gorgeous so I thought I would share it with you guys student raised their hand and said you showed me what Mutual exclusivity looks like those are those two events that don't overlap can you show me what Independence looks like and at first I was like yeah and I had to think about it and I thought about it I was like oh that's such a beautiful question first of all this is is not what Independence looks like this is a visualization of a sample space so you can imagine every outcome is just like some pixel in this square and I have two events in the sample space b and a they don't overlap at all that's what Mutual exclusivity looks like this is a picture of I'm saying it's not possible for both A and B to occur simultaneously therefore they're mutually exclusive mutually exclusivity also means that the probability of A and B is equal to zero and so if you thought about you know um whether or not this is Independence if that leftand side is zero is it the case that probably of a times probably of B should be zero no we feel like these are both two nonzero numbers if you multiply two nonzero numbers you shouldn't get this probability of zero which is the probability of both of them happening this is mutual exclusivity it's not what Independence looks like which begs the question what does independence look like this is what Independence look like so I think this is a useful way of thinking about it let's use this Independence definition two Independence definition 2 says that probability of a is equal to the probability of a given that b happens and if you think about that the probability of a is like how big is a relative to the sample space and a given B if you use the the definition of conditional prob but it's like how big is a and b relative to the size of the outcome B it's saying that this ratio of a to the sample size is equal to the ratio of a b to B it might be helpful or interesting to people this is certainly not the 10 out of 10 important thing from today's lecture but it's really claiming that if you talk about the chance of a happening if you collapse to the world where B has happened a is just as likely to occur and so takes up the same ratio so this is a good picture of what Independence looks like there has to be some chance of both of them occurring and it should be the case that if B occurs then you have the exact same ratio of a to the possible outcomes as you did before you knew B occurred this is not an example of Independence this is what dependence looks like because the ratio of a to the alcome space it's smaller than the ratio of a b to B so when you collapse into the world where B has happened a becomes more likely I think the most intuitive way of understanding Independence is really just to Think semantically Through what this means that's a mathematical truth these are pictures which are also true but I think that's really where you get the conceptual understanding of Independence if I tell you that one event happens it doesn't change your belief that the other event happens okay proof one other great way to get intuition you guys might be wondering about compliments we've haven't been thinking that much about compliments but I want to leave you feeling reassured that if I tell you two events are independent it is also the case that an event is independent of the complement of the other so if I tell you A and B are independent you can also know that a is independent of B compliment who doesn't love a good proof so by a laot of pro to probability probability of a is equal equal to the addition of two different sets A and B plus A and B complement and this has been rearranged a little bit you know law of total probability it says probability of a can come from two sources probability of A and B plus the probability of A and B complement and you kind of have the that idea that B and B complement are background processes in which a occurs and you thinking about this probability Mass plus that probity Mass Gives You probability of a if you took that equation rearranged it You' get this first line and nicely on this first line we have a b complement on the left hand side so I just rearranged this so that that's on the left hand side of the equation now I told you A and B were independent so this term here is going to split or on my slides this term over here and I can split it either to say or I can split it to say that this is the same as probably of a * probability of B now I can factor out probability of a and this becomes probability of a * 1 minus probability of B and 1us probability is just probably B compliment I want you guys to see what proofs in probability look like the main learning goal of cs19 is more that you can apply probability in the real world and to algorithms that make decisions under uncertainty not so much that you guys have to regurgitate proofs but proofs are one way to gain that intuition you can really believe me when I tell you if I tell you A and B are independent you know a is independent of B compliment and of course it goes the other way around too man are we close to adding to the final layer of your fundamental tool set remember when we talked about or and in the two event case it wasn't so bad but then you got to the three event case and it just became awful we have to generalize with and to we have to talk about and when there's more than two events I know I don't want to put that stress on you guys you don't want that stress but we just got to know you guys want to do [Laughter] it I have fantastic news for you to start sometimes you have many events and you're allowed to make the assumption that they're all independent of one another and if you have many events and you're told they're all independent the probability of E1 and E2 and E3 and e r is as simple as just multiplying those probabilities together you know probably E1 time prob E2 * proba E3 * probility of e r a great example of this is coins we often assume that the outcome of each coin is independent of any other flip so even if you have a 100 coins and you want to know the probability of the end of particular set of outcomes you can just multiply those probabilities because we assume all coins even if there's more than two of them are independent this is similar to Mutual exclusivity if you're doing or and many of your events are mutual exclusive it's just a big old sum the problem wasn't when our special uh property was satisfied it's when it's not we need to know how you do probably and when this special case of Independence isn't satisfied oh I do have an example though um so we can talk about whether or not we figure out if more than two events satisfy independent you guys ready for this this is a little bit more work for you guys to really get your head around this important concept of Independence now with three sets I have two events e is that dice one is a one f is that dice 2 is equal to a six and my third event G is that the sum is seven if you want to claim that more than two events are independent you'd have to show that every combination of subsets of the events are also independent so let's try it are these three events independent okay first of all are e and G independent oh you know they are you know one oh this is maybe surprising what's the probability of e that you get a one on this dice one six we learned this earlier the probability that the sum of two dice of seven is also one over six because there's there's six outcomes you got a one and a six uh a two and a five a three and a four four and a three a five and a two and a six and one there's six out of 36 outcomes uh where G is satisfied so the probably the sum of two dice of seven is also 1 over six what's the probability that the first dice is a one and that the sum is uh seven the probability the first dice is one the sum is s is 1 over 36 because there's just one outcome where the first dice is one if I tell you the first dice is a one there's just one remaining assignment to the second dice so that the sum is equal to seven there's just one outcome out of 36 and 1 6 and 1 6 = 1 over 36 e and G are in fact independent now are E and F independent yes you know we just think of the two dice ruls as being independent of each other there's a one six chance of getting a one there's a one six chance of getting a six and there's one over 36 chance of getting exactly one over six or sorry a one and six so check E and F are independent check e and G are independent are f and g independent so if I tell you f that your second dice is a six is an independent from knowing the sum of seven what's the chance second dice is six one six what's the chance that the two dice add up to seven one six what's the chance that both of these happen Okay well this one had to be a six and for the two dice to be adding up to seven there's only one choice for this other dice so there's one out of 36 outcomes where both f and g are true and this times this equals this we are on a roll but finally if you want to really claim that e and f and g are independent you also have to show that the probably of e and f and g is equal to the proba of e * probably f * probably G what's the chance that you roll a one so this event is true you roll a six so this event is true and that g event that the sum is seven is true there's just this one outcome so there's a 1 over 36 chance of all three being true simultaneously and that is not equal to 16 * 1 16 * 16 long story short here if you're told that many events are independent that's a stronger claim cuz they've told you that any subset of those events are also independent if you would like to prove that multiple events are independent then you'd have to prove that for every single subset they're all independence holds which is a little bit insane uh but as I said Independence is something so powerful that we see it in the world but also we assume it pretty often okay we've got ourselves a new ability Yeah question I have a question about the intuition behind this one in the last question when we rolled a one it did affect the the probability that you get a St but in this case it didn't that why do that happen here for e and f and g so all of these pairwise looked independent it's just when you thought about all three of them together that it didn't and think about it this way if I tell you that e is true N I tell you that f is true does it change your belief that g is true so E I tell you what's on the first dice F I tell you what's on the second dice does it change your belief about what's the sum of the two dice absolutely so that's why the triplet intuitively is breaking down because telling you about the outcome of two events is certainly influencing the third and when we actually looked at pairs of events you know being told the outcome of one wasn't changing our belief uh in the other but was just when we looked at all three that Independence fell apart wildness okay Independence is a strong claim just to clarify the proof that we do in the very end um why is it that I test is always a probability of all happening versus probability of each single one happening and why do we multiply them together uh that's just the independence claim the independence claim means must be the case that each event multiplied to itself gives you the probability of and and we're testing if that's true and so it's test it's not it it would have been true if they were independent since they're not independent it is not true it is sufficient to show that these are not equal to show they're not independent and it's sufficient to show they are equal to show that it is independent question if G sums to a different number besides seven could that potentially change the independence my whole example would break down seven was the magical example that makes this whole thing work uh we're going to talk about that a lot more in depth later uh but that's a little bit for later I will give you one hint why is a sum of seven so magical it's because for any outcome on the first dice there's exactly one outcome on the second I that will lead to a seven and now we're getting to the meta decision making for why I chose this example but you know there's a little bit of depth to the madness but anyways the point here isn't how I chose the example it's just for this beautifully chosen example we've got a lot of Independence okay good questions learning goals for today if you have events if they're independent probably and becomes easy if you have events Mutual exclusive makes or easy those are two different properties and you want to keep them separate uh in mutual exclusive means there's no outcome in both events independent means one event doesn't change your belief in the other happening oh I forgot to give you guys the generalized chain rule if you can't show that multiple events are independent here's how you do do the probability of A and B and C and we've talked about this lightly but it's just worth putting out there so what's the probability of A and B and C if they're not independent you use chain rule but you just keep going that's the probability of a times the probability of B given a times the probability of C given a and b if you had more than three events you'd keep adding in another product and the products would have these growing growing conditional dependencies now if they're independent basically you can drop all of that and so if this property holds it's just the products of the uh the events themselves and if you can't show Independence you have to think about the conditionals okay it's time for some practice here's a practice use a little bit of genetics it's a softer use of a genetics than the thing we started with at the beginning of class two parents have genes for whether or not their kids have curly hair and we're going to assume that both parents have one dominant and one recessive gene you don't need to know too much about um probability here but if you have these sorry you don't need to know too much about genetics you need to know a lot about probability if you have two parents with one dominant one recessive the child will only have curly hair if it both gets the recessive from the mother and from the the father if there's a 50% chance of getting from the mother and a 50% chance of getting from the father assuming they're independent the chance of any single child having this curly hair trait is 0.25 so I tell you that the gene you get from your mother is independent of the gene you get from your father you only have curly hair if you happen to get recessive from each because they're independent we can multiply the 05 chance of getting recessive from your father with the 0 five for your mother this all leads to just a piece of the setup of this problem these this couple is having kids and every kid has a 25% chance of having curly hair there's three children what's the probability that all three children have curly hair if you didn't know that each child was independent and each child is independent knowing one kid has curly hair if you already know the genes of the parent it doesn't change your belief that the next child has curly hair it's like a next roll of the dice or your next coin flip if you didn't know Independence you would have to use this generaliz chain roll which would have been annoying you'd have to think what's the chance the third kid has curly hair given that the first kid has curly hair and the second kid has curly hair you'd probably have to use some nasty Bay theorem since I tell you that each kid is independent this is going to reduce to multiplication yes um so about the expansion of the chain R does the order matter for the conditional prop you no that's the one thing on your on your in your favor is you ask does the order matter and it turns out no you could do E3 E2 give given an E3 and E1 give an E2 and E3 uh but you'll still have a lot of similar complexity um is just you know if you think about it at the end of the day it will give you an expression for all three of them happening you know this is E1 and E2 in the world that E1 happened this is E3 in the world where E1 and E2 and if you put all those three things together you get E1 E2 and E3 happening and all those constructions lead to a world where E1 E2 E3 happen so fantastic this is a lot of complexity just to lead to a relatively simple answer if there's a 25% chance of one kid being curlyhair the chance of all three of them kid one and Kid 2 and kid three is just going to be straight multiplication so it'll be 0.25 to the^ of three and we can do that um we can go uh and do some Python and we can do 0.25 to the^ of 3 which is the same as 0.25 * 0.25 * 0 . 25 um the chance of all three kids having curly hair is about 16% okay here's another example to show you how Independence could be helpful and this one's a little it's just one step harder than that previous one now you guys know the Internet connects computers Like A and B if you haven't there's a YouTube video about that that's not important right now and that A and B are they're connected through a whole bunch of different routers in this case we're going to assume that they're connected through n different routers but they could fail and they could fail with different probabilities like this could be the path between my computer here in the Facebook server in Oregon this one goes up the coast this one goes up the mountains you know there's all these different paths they have different probabilities of failing and if any path is not failed then there is a connection from A to B the thing I'm interested in is what's the probability of a functional path from me to say the Facebook server to be more abstract from computer a to computer B this is a great example of a canonical Independence question you know if I put this on the midterm I'd really hope that everyone gets it right though it is a little bit hard why don't you take a second and talk about this with the person next to you because this is a 10 out of 10 important Independence example okay I want to set this problem up and I want to set this problem up in a way that leads to a dead end because I want you to see the dead ends as well as the good ways to solve this we want probability of e I'm going to define a whole bunch of other events that are going to make my life easier I'm going to Define X1 that path one is functional X2 means path 2 is functional and X means that X n's path is functional so you can imagine you have like all these XIs where X1 is this is making it X2 is this is making it the question is in fact asking this is is asking is there a path X1 or is there a path X2 or is there a path xn if any of these are true then there is in fact a functioning path now when I see a problem with or the first thing I go is I look for Mutual exclusivity I don't have mutual exclusivity I've been told independent but maybe Mutual exclusivity exists for Mutual exclusivity to exist it must not be possible for two of these to be true at the same time is it possible for two of these to be true at the same time oh yeah absolutely it's totally possible and in fact likely for two paths to be functional simultaneously therefore it's possible for both X1 and X2 to be true can't use Mutual exclusivity doesn't hold so here's the really dark path to go down you're like well Mutual exclusivity doesn't hold let's use inclusion exclusion so it's like probably of X1 plus X2 plus X up to xn then subtract off all the pairs then add in all the triplets then subtract off all the quadruplets and of course there's n of these they haven't even told us how many they are and like you just start sweating profusely and you're like why Chris do you make me do this in fact I don't want you to do that that's why I show you that there's other ways did find somebody find another path to happiness that didn't include going down that inclusion exclusion yeah so we're looking at an at least one scenario so instead you can calculate the probability that none of them are functioning and then subtract that from one okay one minus the probability that none are functioning I like how you said we're looking at an at least one scenario because that's really a good clue that you want to do this one minus trick because at least one is annoying but you know maybe it's just it's always true to be equal to one minus probability of none of them work and you know what this probity that none of them work I can express that in terms of and you know is the probability of X1 complement and X2 complement you know and up to xn complement because it's the probability that none of them are functioning is saying that you know this one's not functioning and this one's not functioning and this one's not functioning they've all broken and the reason this is so beautiful is because now I've got an an problem what does an care about it cares about independence do we have Independence absolutely the problem told us to assume that the routers were independent you're like it told us the routers functions are independent are the routers failing independent yeah we proved that earlier in class you know if X1 is independent of X2 then X1 compliment is also independent of X2 complement so we have ourselves a situation where all of these are anded and we know they're independent that therefore this whole term just becomes a whole big product so it's going to be equal to 1 minus the product over I of probability of x i complement we're not given the probability of XI complement we're given the probability of x i so Pi is the probability of a functioning x i complement is just going to be one minus that so it's going to be you know one minus the probability of the first router failing times one minus the probably second router of failing time oneus wait of succeeding oh jeez p p Pi is the probability that it's functioning so one minus probability of the first one functioning time one minus probability of the second one functioning * 1 Min is probably the third one functioning and each of these is going to be you know 1 minus Pi I Pi is the probability of the I one functioning that all leads to the probability of all of them failing and it's one minus the probability of all of them failing the and allowed us to think about each one on its own and just multiply those things together this was a dead end questions about this yeah this one yeah this is just you know if I didn't write this notation it would look like this probability of x i complement time probability of X2 complement time probability of X3 complement you know a Shand notation of all this multiplication you know how this is like the big old sum short hand for lots of sun this is the Shand for lots of multiplications so this says for loop I times and every time multiply this term so probability of x i complement and this is like the index in your for Loop so this is like a for Loop multiplication this is a for Loop addition okay this is all in your notes in case you wanted to check it out in a slower Pace than we went over it now the most important example that I can think of is this one it's going to seem a little bit abstract but because it's so important I actually spent a lot of time and I put together a full interactive demo in the course reader if there is one thing to really really focus on to make sure you're getting all these Concepts together is this idea of many coin flips and I have a central question for you my central question for you is imagine a world where I flip 10 coins what's the probability of getting exactly some number of heads so maybe exactly six heads if I flip 10 coins that might not seem like such a deep question but I promise you that if you think about this question and if you understand it deeply it's going to illuminate so much of the next section of Cs 109 now I'm going to do a weird thing with my coins I'm going to allow my coins to be heads with a different probability than 0. five so this is a normal coin it's got a probability being heads at 0.5 if I flip 10 of them you know you could get an outcome like Tails heads Heads Tails Tails Tails Tails heads heads heads and you know like if you feel like doing this a whole bunch without actually getting out coins you can hit a whole bunch oh my God that's so much fun computers are incredible I'm going to do something a little bit funny I'm going to allow us to have these weird coins that have probabilities of not. five the reason this example is so important is not because we care about coins is because coins are a metaphor for so many processes in the world and not all those processes are going to have a 05 probability of heads and to allow for this metaphor to be so powerful I'm going be thinking about coins that can come up heads with different probabilities so if I make this a 90% chance of being heads notice how many more are heads often all of them um and I'm going to just for now think about a 60% chance so the core question is you flip a coin 10 times what's the chance of exactly six heads we're going to get there in order to get there we're going to think through a series of problems that are going to build up complexity of thinking about Mutual exclusivity and Independence together okay here's my first warm-up for you guys if I flip 10 coins each coin has a 60% chance of being a heads I hope you guys can see this what's the chance of getting heads heads Heads 10 times in a row are coins independent absolutely the out of one coin doesn't change the outcome of another coin your belief doesn't get updated as such since they're independent what's the chance of exactly this outcome okay I heard two different things I heard 1 12 to the power of 10 and I heard 6 to the power of 10 uh why don't you guys just yell out loud which one you like more yeah okay 6 is the probability of the first one being heads you have to multiply by 6 is probably the second one being head multiplied by 6 itself 10 * is 6 to the^ of 10 in this case um you know it's going to p p to the power of n um then you could plug this in and get a number how about this what's your chance of getting this tail tail tail tail tail tail tail 10 times are they still independent even though they're not heads yes yeah this is the complement and the compliment is still independent okay so4 is the probability of the first coin being a Tails 1 minus 6 and we're going to multiply by the chance of the second coin being a Tails that's 04 you multiply that by the chance of the third coin being a taals that's point4 you multiply by point4 by itself 10 times okay great you guys ready to bump this up a notch heads I know I'm doing this slowly but it's just that important four heads and then six tails what's the chance of that one talk about with the person next to you for a second we're getting to that level complexity in this case order does matter I say the first four are exactly heads and the next six are Tails okay if you got this answer great if you didn't get the answer I'm about to write think about where your misconception is and then see if you can ask a clarifying question so I'm assuming that order matters this is the first heads the probability getting the first coin as a head is going to be 0.6 it's independent of the next coin so the probability of the next coin of coin number two being ahead is going to be 0.6 now I'm multiplying 0.6 by itself a whole bunch of times so I don't want to do that I'm going to use a power instead how many times do I multiply 6 yeah because there's four heads now I've talked about the probability of these four events simultaneously occurring so all of them occurring it's not like they have to well all events occurred they didn't have to happen in the exact same moment in time but they all occurred um after this one run of the experiment I haven't talked about the outcome of the next six coins they're all tals and the probability of the first tals is 0.4 it's independent of the second tals so I'd also multiply by another 0.4 I don't want to write multiplying this thing by itself six times because that would be tedious so instead I'm going to use powers you might have just put 0 4 in here I prefer to do 1 minus 0.6 that way you don't have to worry about where this magical point four comes from it's just 6 was my probability of a heads so probability of heads is 6 probability of tails is 1us 6 I slightly prefer that you guys buying this so far here's where it gets tricky I now want to know the probability of exactly K heads so I want to know the probability let's say k equals 4 I want to know the probability that if you flip 10 coins that you get exactly four why is that a different problem than this one this I want exactly K heads that seems like what we calculated before can someone tell me one reason that these two are different yes an idea because the heads could be like at any point the 10 with okay heads but for the first example you had to be the first four yeah what we calculated here was like first four heads and then six tails exactly like that but to be exactly K heads your heads could have occurred anywhere it could be the last four coins you could have had them you know interspersed differently throughout here's one example of heads or four heads out of 10 can I give you another one Tails heads Tails heads Tails heads well I've got three so far right Tails heads so now I've got four 1 2 3 4 5 6 7 8 9 10 so here I have another example we now have two different examples of orderings where there's exactly four heads are there others how many you're like oh my god do I know how to do that counting before you think about doing that counting can I just show you all of them computers are so beautiful there's a lot of them these are all the different ways of getting exactly four heads all the different outcomes so then my question is how many are there and I did see a hand go up for an idea how many are there 10 choose four 10 choose four how did you get there yeah yeah yeah we want to choose out of the 10 place places for slots to turn into heads to choose to be heads okay and then the rest aren't in our set of heads you are not wrong you in fact right sorry that that's so cheeky you got it right but there was a different way of thinking about this that leads to the exact same answer yes it's like if you have 10 letters it's like Mississippi like how do rearrange it's Mississippi but instead of like a beautiful River you've got this really crappy word that's got six T's and four h's and it's how many ways can you do permutations with these indistinct objects permutations where these six T's look indistinct and these four h's look indistinct if it was permutations with indistinct objects you get n factorial divided by how many you know our heads that's K factorial times how many are Tails that's n minus K and that's factorial and that is equivalent to n choose K two conceptual ways of thinking about about how to count this but both of them lead to there's n choose K different outcomes I have bad news for you guys the probability of exactly K heads is going to be a big old or it's the probability of this outcome or this outcome or this outcome we're going to do have or but not of two outcomes or two events but rather and choose K different events mind blowingly awful but somebody's like it's not awful Chris hold Faith why might this not be awful yes it doesn't matter because sorry one more time because they will evaluate to the same thing they will evaluate to the same thing so actually when you do multiplication each one has the same probability but there's another reason this is not awful yes are independent of they're not independent close though they're mutually exclusive so probability of or gets easy when they're mutually exclusive independent says that knowing one of these is the outcome doesn't change your belief in the others but if you tell me this is the outcome I know this one didn't happen they're mutually exclusive because it's not possible to get this exact Arrangement and to also get this exact Arrangement so these two outcomes can't occur at the exact same time they're mutually exclusive which means if you want the probability of the or of each of these you can add up the probability of this one plus the probability of this one plus the probability of this one it's just going to be a sum like this probility of exactly K heads is going to be a sum over every Row in that the probability of that particular row someone's already said it though no matter which row you look at if there are exactly four heads the probability of that row will be the four heads wherever you find them will each be a p the six tails will each be a one minus P so no matter which row you look at the probability of each row is P4 * 1 - P to ^ 6 so if you sum up the probability of each row and you plug in that each row has exactly this and then you realize this is a sum that doesn't use the eyes you end up with there's n choose K rows every row has this probability since we're summing up that thing n choose K times it will be n choose K times the probability of one row isn't that beautiful it brings like all the concepts we learned into the exact same example if there's one thing to study learn this example forward backward it's so helpful for just understanding all your tools but also taking this to the next level have a wonderful day come back on Friday we will continue this conversation